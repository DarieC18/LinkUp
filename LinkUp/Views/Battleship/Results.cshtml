@model LinkUp.Application.ViewModels.Battleship.ResultVm
@{
    ViewData["Title"] = "Resultados de la partida";
}

<h2>Resultados de la partida</h2>

<p><strong>Ganador:</strong> @Model.WinnerDisplay</p>
<p><strong>Inicio:</strong> @Model.StartedAt</p>
<p><strong>Finalización:</strong> @Model.FinishedAt</p>

<div class="d-inline-block border border-2 rounded p-1 mb-3">
    <table class="table table-bordered mb-0">
        <tbody>
            @for (int r = 0; r < Model.BoardSize; r++)
            {
                <tr>
                    @for (int c = 0; c < Model.BoardSize; c++)
                    {
                        var val = Model.MyAttackState[r, c];
                        string color = val switch
                        {
                            1 => "bg-danger",
                            0 => "bg-primary",
                            _ => "bg-light"
                        };
                        <td class="@color" style="width:28px; height:28px;"></td>
                    }
                </tr>
            }
        </tbody>
    </table>
</div>

<div class="mt-3">
    <a asp-action="Index" class="btn btn-secondary btn-sm">Volver</a>

    <a asp-action="Board" asp-route-gameId="@Model.GameId" class="btn btn-outline-primary btn-sm">
        Ver mi tablero (posicionamiento)
    </a>

    <a asp-action="OpponentBoard" asp-route-gameId="@Model.GameId" class="btn btn-outline-dark btn-sm">
        Ver tablero del otro jugador
    </a>
</div>
